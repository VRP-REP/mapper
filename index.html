<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="assets/images/evro_icon.png">

  <title>Mapper | VRP-REP</title>

  <!-- Bootstrap core CSS -->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="assets/css/starter-template.css" rel="stylesheet">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67398705-6', 'auto');
    ga('send', 'pageview');

</script>

</head>

<body>

  <nav class="navbar navbar navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <span class="navbar-brand">Mapper</span>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li>
            <a href="#">
              <label class="nav-label">Upload instance<input id="instance-upload" type="file" style="display: none;"></label>
            </a>
          </li>
          <li><a data-toggle="modal" href="#uploadSolutionModal">Upload solution</a></li>
          <li><a data-toggle="modal" href="#aboutModal">About</a></li>
          <li><a href="http://vrp-rep.org/">VRP-REP Home</a></li>
        </ul>
      </div>
      <!--/.nav-collapse -->
    </div>
  </nav>

  <div class="container">

    <div class="map-zone" id="div-where-instance-goes">

    </div>

  </div>
  <!-- /.container -->

  <!-- Upload Solution Modal -->
  <div id="uploadSolutionModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3 class="modal-title">Upload solution</h3>
        </div>
        <div class="modal-body">
          <p>
            You may either upload a VRP-REP compliant solution or you may manually enter a sequence
            of nodes.
          </p>
          <div class="form-group">
            <label>Upload VRP-REP compliant solution:</label><br>
            <label id="btn-for-sol-upload" class="enable-on-instance-upload btn btn-default btn-file" disabled>
                Browse <input class="enable-on-instance-upload" id="solution-upload" type="file" style="display: none;" disabled>
              </label>
            <span id="sol-upload-btn-text" style="font-style: italic;">First upload an instance</span>
          </div>
          <div class="form-group">
            <label for="route-input">Route:</label>
            <input type="text" class="enable-on-instance-upload form-control" id="route-input" placeholder="First upload an instance"
              disabled>
          </div>
        </div>
        <div class="modal-footer">
          <button onclick="handleManualRouteInput(document.getElementById('route-input').value)" id="plot-route-btn" type="button"
            class="enable-on-instance-upload btn btn-default" data-dismiss="modal" disabled>
            Plot
            </button>
        </div>
      </div>

    </div>
  </div>

  <!-- About Modal -->
  <div id="aboutModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h3 class="modal-title">About the VRP-REP Mapper</h3>
        </div>
        <div class="modal-body">
          <p>Mapper let's users visualize datasets (problem instances) and solutions (routes) that are formatted according to
            the Vehicle Routing Problem REPository (VRP-REP) specification.</p>

          <p>More about VRP-REP and the specification can be found on their <a href="http://vrp-rep.org/">website</a>.</p>

          <h3 id="touse">To use</h3>

          <p>From the <a href="https://vrp-rep.github.io/mapper/">Mapper landing page</a>, select "Upload instance" to browse
            to and select a VRP-REP compliant dataset.</p>

          <p><img style="height: auto;width: 100%;" src="./assets/images/uploadInstance.PNG" alt="Upload instance" title="Upload instance" /></p>

          <p>Once you have uploaded an instance, the upload solution functionality becomes available. Select "Upload solution."</p>

          <p><img style="height: auto;width: 100%;" src="./assets/images/uploadSolution.PNG" alt="Upload solution" title="Upload solution" /></p>

          <p>From the modal that appears, you have two options to input a solution (a route or set of routes):</p>

          <ol>
            <li>You may select "Browse" to select a VRP-REP compliant dataset, or</li>

            <li>You may simply input a sequence of integers into the text field. This sequence of integers should be separated
              either by commas or whitespace. After you input a sequence, hit the "Plot" button.</li>
          </ol>

          <p>Note that whenever a new solution is uploaded or a new route is entered, the existing routes will be cleared.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>

  <!-- D3 -->
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <!-- For more color scale options -->
  <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  <!-- For the legend -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.21.0/d3-legend.js"></script>

  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>

  <!-- Custom JS for the instance mapping -->
  <script src="assets/js/instancemapper.js"></script>

</body>

</html>